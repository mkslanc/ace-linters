<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>ace-clang-linter smoke</title>
    <link rel="icon" href="data:,"/>
</head>
<body>
<div id="editor" style="height: 300px;"></div>
<script src="http://127.0.0.1:8080/vendor/ace/ace.js"></script>
<script src="http://127.0.0.1:8080/vendor/ace/ext-language_tools.js"></script>
<script src="http://127.0.0.1:8080/build/ace-linters/ace-linters.js"></script>
<script>
    window.testFlags = {ready: false};
    window.editor = ace.edit("editor", {
        theme: "ace/theme/textmate",
        mode: "ace/mode/c_cpp",
        value: "int   main(){return 0;}"
    });

    window.languageProvider = LanguageProvider.fromCdn({
        services: [{
            name: "clang",
            className: "AceClangLinter",
            modes: "c_cpp",
            script: "ace-clang-linter.js",
            cdnUrl: "http://127.0.0.1:8080/build/ace-clang-linter"
        }],
        serviceManagerCdn: "http://127.0.0.1:8080/build/ace-linters",
        includeDefaultLinters: false
    });

    window.languageProvider.registerEditor(window.editor);
    window.editor.session.setMode("ace/mode/c_cpp");
    setTimeout(() => {
        window.testFlags.ready = true;
    }, 1000);
</script>
</body>
</html>
